---
# Group variables for all hosts

# PostgreSQL version
postgresql_version: "17"

# PostgreSQL settings
postgres_port: 5432
postgres_max_connections: 200
postgres_shared_buffers: "256MB"
postgres_effective_cache_size: "768MB"
postgres_work_mem: "16MB"
postgres_maintenance_work_mem: "128MB"

# PostgreSQL data directory
postgres_data_dir: "/var/lib/postgresql/{{ postgresql_version }}/main"
postgres_config_dir: "/etc/postgresql/{{ postgresql_version }}/main"

# Database and user for replication
replication_user: "repmgr"
replication_password: "{{ vault_replication_password | default('SecureRepl1cati0n!') }}"
replication_db: "repmgr"

# pglogical settings
pglogical_user: "pglogical_user"
pglogical_password: "{{ vault_pglogical_password | default('PgLog1cal!Pass') }}"
pglogical_db: "appdb"  # Database to replicate

# Application database
app_db_name: "appdb"
app_db_user: "appuser"
app_db_password: "{{ vault_app_db_password | default('AppUs3r!Pass') }}"

# HAProxy settings
haproxy_postgres_port: 5000
haproxy_stats_port: 7000
haproxy_stats_user: "admin"
haproxy_stats_password: "{{ vault_haproxy_stats_password | default('HAProxy!Stats') }}"

# Health check user (minimal privileges)
healthcheck_user: "healthcheck"
healthcheck_password: "{{ vault_healthcheck_password | default('H3althCh3ck!') }}"
